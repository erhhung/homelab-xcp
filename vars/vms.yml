# automatically start the following
# VMs when their hosts are rebooted
auto_start_vms:
  - shasta
  - cosmos
  - xoa
  - xo
  - rancher
  - k8s1
  - k8s2
  - k8s3
  - k8s4
  - k8s5
  - k8s6

host_affinities:
  shasta: xcp1
  cosmos: xcp1
  xoa: xcp1
  xo: xcp2
  rancher: xcp3
  k8s1: xcp6
  k8s2: xcp5
  k8s3: xcp3
  k8s4: xcp4
  k8s5: xcp5
  k8s6: xcp6

gpu_passthrough_vms:
  - k8s3
  - k8s4
  - k8s5
  - k8s6

# VMs must be stopped in order to set CPU, memory, and
# disk (disk.lv is for reference only: no playbooks in
# this project will configure settings within each VM)
vm_config:
  rancher:
    name: Rancher
    desc: K3s + Rancher
    vcpus: 4
    memory: 4GiB
    disk:
      size: 50GiB # 46.95GiB usable
      lv: 45G # g=GB/G=GiB
    ip: 192.168.0.164

  k8s1:
    name: K8s1
    desc: &desc >-
      RKE2 Cluster Node
    vcpus: 10
    memory: 22GiB
    disk: &disk
      size: 125GiB # 121.95GiB usable
      lv: 58.79G # leaves 63.16G free, and 95% of that for data LV = 60G
    ip: 192.168.0.171

  k8s2:
    name: K8s2
    desc: *desc
    vcpus: 6
    memory: 14GiB
    disk: *disk
    ip: 192.168.0.172

  k8s3:
    name: K8s3
    desc: *desc
    vcpus: 4
    memory: 24GiB
    disk: *disk
    ip: 192.168.0.173

  k8s4:
    name: K8s4
    desc: *desc
    vcpus: 4
    memory: 28GiB
    disk: *disk
    ip: 192.168.0.174

  k8s5:
    name: K8s5
    desc: *desc
    vcpus: 6
    memory: 14GiB
    disk: *disk
    ip: 192.168.0.175

  k8s6:
    name: K8s6
    desc: *desc
    vcpus: 10
    memory: 36GiB
    disk:
      size: 150GiB # 146.95GiB usable
      lv: 83.79G # leaves 63.16G free, and 95% of that for data LV = 60G
    ip: 192.168.0.176
